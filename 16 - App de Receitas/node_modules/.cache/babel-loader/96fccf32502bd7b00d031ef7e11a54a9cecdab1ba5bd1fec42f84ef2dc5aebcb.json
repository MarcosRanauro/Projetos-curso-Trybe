{"ast":null,"code":"var _jsxFileName = \"/home/marcos-ranauro/Trybe/Projetos/sd-027-b-project-recipes-app/src/components/SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport buildSearchUrl from '../helpers/api';\nimport RecipeContext from '../context/RecipeContext';\nimport '../styles/SearchBar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchType, setSearchType] = useState('Ingredient');\n  const history = useHistory();\n  const {\n    setMealsRecipes,\n    setDrinksRecipes\n  } = useContext(RecipeContext);\n  function handleSearchTermChange(event) {\n    setSearchTerm(event.target.value);\n  }\n  function handleSearchTypeChange(event) {\n    setSearchType(event.target.value);\n  }\n  function handleSearchResults(data) {\n    const {\n      meals\n    } = data;\n    const {\n      drinks\n    } = data;\n    if (meals && meals.length === 1 || drinks && drinks.length === 1) {\n      const id = meals ? meals[0].idMeal : drinks[0].idDrink;\n      const path = meals ? `/meals/${id}` : `/drinks/${id}`;\n      history.push(path);\n    } else if (!meals && !drinks) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n    setMealsRecipes(meals || drinks);\n    setDrinksRecipes(drinks || meals);\n  }\n  function handleSearchButtonClick() {\n    if (searchType === 'First letter' && searchTerm.length !== 1) {\n      global.alert('Your search must have only 1 (one) character');\n      return;\n    }\n    const apiUrl = buildSearchUrl(searchTerm, searchType);\n    fetch(apiUrl).then(response => response.json()).then(handleSearchResults);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-input-search\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        \"data-testid\": \"search-input\",\n        name: \"search-input\",\n        value: searchTerm,\n        onChange: handleSearchTermChange,\n        className: \"input-search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-radio-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          \"data-testid\": \"ingredient-search-radio\",\n          name: \"search-type\",\n          value: \"Ingredient\",\n          checked: searchType === 'Ingredient',\n          onChange: handleSearchTypeChange,\n          className: \"radio-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ingredient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          \"data-testid\": \"name-search-radio\",\n          name: \"search-type\",\n          value: \"Name\",\n          checked: searchType === 'Name',\n          onChange: handleSearchTypeChange,\n          className: \"radio-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          \"data-testid\": \"first-letter-search-radio\",\n          name: \"search-type\",\n          value: \"First letter\",\n          checked: searchType === 'First letter',\n          onChange: handleSearchTypeChange,\n          className: \"radio-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"First letter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-btn-search\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"exec-search-btn\",\n        onClick: handleSearchButtonClick,\n        className: \"btn-search\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"mY91CoAPm+FP8NL9n+MNm9Tpv8c=\", false, function () {\n  return [useHistory];\n});\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useContext","useState","useHistory","buildSearchUrl","RecipeContext","SearchBar","searchTerm","setSearchTerm","searchType","setSearchType","history","setMealsRecipes","setDrinksRecipes","handleSearchTermChange","event","target","value","handleSearchTypeChange","handleSearchResults","data","meals","drinks","length","id","idMeal","idDrink","path","push","global","alert","handleSearchButtonClick","apiUrl","fetch","then","response","json"],"sources":["/home/marcos-ranauro/Trybe/Projetos/sd-027-b-project-recipes-app/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport buildSearchUrl from '../helpers/api';\nimport RecipeContext from '../context/RecipeContext';\nimport '../styles/SearchBar.css';\n\nfunction SearchBar() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchType, setSearchType] = useState('Ingredient');\n  const history = useHistory();\n  const { setMealsRecipes, setDrinksRecipes } = useContext(RecipeContext);\n\n  function handleSearchTermChange(event) {\n    setSearchTerm(event.target.value);\n  }\n\n  function handleSearchTypeChange(event) {\n    setSearchType(event.target.value);\n  }\n\n  function handleSearchResults(data) {\n    const { meals } = data;\n    const { drinks } = data;\n\n    if ((meals && meals.length === 1) || (drinks && drinks.length === 1)) {\n      const id = meals ? meals[0].idMeal : drinks[0].idDrink;\n      const path = meals ? `/meals/${id}` : `/drinks/${id}`;\n      history.push(path);\n    } else if (!meals && !drinks) {\n      global.alert('Sorry, we haven\\'t found any recipes for these filters.');\n    }\n    setMealsRecipes(meals || drinks);\n    setDrinksRecipes(drinks || meals);\n  }\n\n  function handleSearchButtonClick() {\n    if (searchType === 'First letter' && searchTerm.length !== 1) {\n      global.alert('Your search must have only 1 (one) character');\n      return;\n    }\n\n    const apiUrl = buildSearchUrl(searchTerm, searchType);\n\n    fetch(apiUrl)\n      .then((response) => response.json())\n      .then(handleSearchResults);\n  }\n\n  return (\n    <div className=\"search-container\">\n      <div className=\"container-input-search\">\n        <input\n          type=\"text\"\n          data-testid=\"search-input\"\n          name=\"search-input\"\n          value={ searchTerm }\n          onChange={ handleSearchTermChange }\n          className=\"input-search\"\n        />\n      </div>\n      <div className=\"container-radio-search\">\n        <label>\n          <input\n            type=\"radio\"\n            data-testid=\"ingredient-search-radio\"\n            name=\"search-type\"\n            value=\"Ingredient\"\n            checked={ searchType === 'Ingredient' }\n            onChange={ handleSearchTypeChange }\n            className=\"radio-input\"\n          />\n          <span>Ingredient</span>\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            data-testid=\"name-search-radio\"\n            name=\"search-type\"\n            value=\"Name\"\n            checked={ searchType === 'Name' }\n            onChange={ handleSearchTypeChange }\n            className=\"radio-input\"\n          />\n          <span>Name</span>\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            data-testid=\"first-letter-search-radio\"\n            name=\"search-type\"\n            value=\"First letter\"\n            checked={\n              searchType === 'First letter'\n            }\n            onChange={ handleSearchTypeChange }\n            className=\"radio-input\"\n          />\n          <span>First letter</span>\n        </label>\n      </div>\n      <div className=\"container-btn-search\">\n        <button\n          type=\"button\"\n          data-testid=\"exec-search-btn\"\n          onClick={ handleSearchButtonClick }\n          className=\"btn-search\"\n        >\n          <span>Search</span>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}