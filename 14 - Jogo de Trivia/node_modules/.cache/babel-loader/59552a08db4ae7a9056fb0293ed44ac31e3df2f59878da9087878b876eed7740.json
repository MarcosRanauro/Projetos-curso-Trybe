{"ast":null,"code":"var _jsxFileName = \"/home/marcos-ranauro/Trybe/Projetos/sd-027-b-project-trivia-react-redux/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { userLogin } from '../redux/actions';\nimport createToken from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      emailImput: '',\n      nameImput: '',\n      disabled: true\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value,\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.validation);\n    };\n    this.handleClick = async event => {\n      event.preventDefault();\n      const {\n        history,\n        dispatch\n      } = this.props;\n      const {\n        emailImput,\n        nameImput\n      } = this.state;\n      dispatch(userLogin({\n        emailImput,\n        nameImput\n      }));\n      await createToken();\n      history.push('/game');\n    };\n    this.validation = () => {\n      const {\n        emailImput,\n        nameImput\n      } = this.state;\n      const minNumbers = 1;\n      const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\n      const emailValidation = regex.test(emailImput);\n      const nameValidation = nameImput.length >= minNumbers;\n      if (emailValidation && nameValidation) {\n        this.setState({\n          disabled: false\n        });\n      } else {\n        this.setState({\n          disabled: true\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      disabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Fa\\xE7a seu login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nameImput\",\n            id: \"nameImput\",\n            \"data-testid\": \"input-player-name\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"emailImput\",\n            id: \"emailImput\",\n            \"data-testid\": \"input-gravatar-email\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"btn-play\",\n          disabled: disabled,\n          onClick: this.handleClick,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"btn-settings\",\n          onClick: () => {\n            const {\n              history\n            } = this.props;\n            history.push('/settings');\n          },\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapStateToProps = state => ({\n  nameImput: state.player.nameImput,\n  emailImput: state.player.emailImput\n});\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  })\n}.isRequired;\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","userLogin","createToken","Login","state","emailImput","nameImput","disabled","handleChange","target","value","name","setState","validation","handleClick","event","preventDefault","history","dispatch","props","push","minNumbers","regex","emailValidation","test","nameValidation","length","render","mapStateToProps","player","propTypes","func","shape","isRequired"],"sources":["/home/marcos-ranauro/Trybe/Projetos/sd-027-b-project-trivia-react-redux/src/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { userLogin } from '../redux/actions';\nimport createToken from '../services/api';\n\nclass Login extends Component {\n  state = {\n    emailImput: '',\n    nameImput: '',\n    disabled: true,\n  };\n\n  handleChange = ({ target }) => {\n    const { value, name } = target;\n    this.setState(\n      {\n        [name]: value },\n      this.validation,\n    );\n  };\n\n  handleClick = async (event) => {\n    event.preventDefault();\n    const { history, dispatch } = this.props;\n    const { emailImput, nameImput } = this.state;\n    dispatch(userLogin({ emailImput, nameImput }));\n    await createToken();\n    history.push('/game');\n  };\n\n  validation = () => {\n    const { emailImput, nameImput } = this.state;\n    const minNumbers = 1;\n    const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\n    const emailValidation = regex.test(emailImput);\n    const nameValidation = nameImput.length >= minNumbers;\n    if (emailValidation && nameValidation) {\n      this.setState({ disabled: false });\n    } else {\n      this.setState({\n        disabled: true,\n      });\n    }\n  };\n\n  render() {\n    const { disabled } = this.state;\n    return (\n      <div>\n        <h1>Fa√ßa seu login</h1>\n        <form>\n          <label htmlFor=\"name\">\n            Nome:\n            <input\n              type=\"text\"\n              name=\"nameImput\"\n              id=\"nameImput\"\n              data-testid=\"input-player-name\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <label htmlFor=\"email\">\n            Email:\n            <input\n              type=\"email\"\n              name=\"emailImput\"\n              id=\"emailImput\"\n              data-testid=\"input-gravatar-email\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"btn-play\"\n            disabled={ disabled }\n            onClick={ this.handleClick }\n          >\n            Play\n          </button>\n          <button\n            type=\"button\"\n            data-testid=\"btn-settings\"\n            onClick={ () => {\n              const { history } = this.props;\n              history.push('/settings');\n            } }\n          >\n            Settings\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  nameImput: state.player.nameImput,\n  emailImput: state.player.emailImput,\n});\n\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n}.isRequired;\n\nexport default connect(mapStateToProps)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}